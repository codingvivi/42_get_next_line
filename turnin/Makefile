# GNU Make workspace makefile autogenerated by Premake

ifndef config
  config=release_dev
endif

ifndef verbose
  SILENT = @
endif

ifeq ($(config),release_dev)
  get_next_line_config = release_dev
  test_runner_config = release_dev

else ifeq ($(config),release_42)
  get_next_line_config = release_42
  test_runner_config = release_42

else ifeq ($(config),debug1b_dev)
  get_next_line_config = debug1b_dev
  test_runner_config = debug1b_dev

else ifeq ($(config),debug1b_42)
  get_next_line_config = debug1b_42
  test_runner_config = debug1b_42

else ifeq ($(config),debug10b_dev)
  get_next_line_config = debug10b_dev
  test_runner_config = debug10b_dev

else ifeq ($(config),debug10b_42)
  get_next_line_config = debug10b_42
  test_runner_config = debug10b_42

else ifeq ($(config),debug1mb_dev)
  get_next_line_config = debug1mb_dev
  test_runner_config = debug1mb_dev

else ifeq ($(config),debug1mb_42)
  get_next_line_config = debug1mb_42
  test_runner_config = debug1mb_42

else
  $(error "invalid configuration $(config)")
endif

PROJECTS := get_next_line test_runner

.PHONY: all clean help $(PROJECTS) 

all: $(PROJECTS)

get_next_line:
ifneq (,$(get_next_line_config))
	@echo "==== Building get_next_line ($(get_next_line_config)) ===="
	@${MAKE} --no-print-directory -C . -f get_next_line.make config=$(get_next_line_config)
endif

test_runner: get_next_line
ifneq (,$(test_runner_config))
	@echo "==== Building test_runner ($(test_runner_config)) ===="
	@${MAKE} --no-print-directory -C . -f test_runner.make config=$(test_runner_config)
endif

clean:
	@${MAKE} --no-print-directory -C . -f get_next_line.make clean
	@${MAKE} --no-print-directory -C . -f test_runner.make clean

help:
	@echo "Usage: make [config=name] [target]"
	@echo ""
	@echo "CONFIGURATIONS:"
	@echo "  release_dev"
	@echo "  release_42"
	@echo "  debug1b_dev"
	@echo "  debug1b_42"
	@echo "  debug10b_dev"
	@echo "  debug10b_42"
	@echo "  debug1mb_dev"
	@echo "  debug1mb_42"
	@echo ""
	@echo "TARGETS:"
	@echo "   all (default)"
	@echo "   clean"
	@echo "   get_next_line"
	@echo "   test_runner"
	@echo ""
	@echo "For more information, see https://github.com/premake/premake-core/wiki"